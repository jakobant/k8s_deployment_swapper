FROM alpine:3.5

MAINTAINER Jakob Antonsson <jakobant@gmail.com>

RUN echo "http://dl-4.alpinelinux.org/alpine/edge/community/" >> /etc/apk/repositories && \
    echo "http://dl-4.alpinelinux.org/alpine/edge/testing/" >> /etc/apk/repositories && \
    apk add --update openvpn iptables bash sudo  && \
    rm -rf /tmp/* /var/tmp/* /var/cache/apk/* /var/cache/distfiles/*

# Needed by scripts
ENV OPENVPN_PROTO tcp
ENV OPENVPN /etc/openvpn
ENV OSERVER_IP_RANGE 192.168.88.0
ENV OSERVER_MASK 255.255.255.0
ENV OSERVER_PORT 1194
ENV OVPN_CA LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdHVENDQkFHZ0F3SUJBZ0lKQU9iV0VHSzh1NTVITUEwR0NTcUdTSWIzRFFFQkN3VUFNR0V4Q3pBSkJnTlYKQkFZVEFrbFRNUXN3Q1FZRFZRUUlEQUpPUVRFU01CQUdBMVVFQnd3SlVtVjVhMnBoZG1sck1ROHdEUVlEVlFRSwpEQVpCZEVodmJXVXhJREFlQmdrcWhraUc5dzBCQ1FFV0VXRmtiV2x1UUcxcGEydGhjbWt1Ym1WME1CNFhEVEUzCk1EUXhNekl6TXpBd00xb1hEVEkzTURReE1USXpNekF3TTFvd1lURUxNQWtHQTFVRUJoTUNTVk14Q3pBSkJnTlYKQkFnTUFrNUJNUkl3RUFZRFZRUUhEQWxTWlhscmFtRjJhV3N4RHpBTkJnTlZCQW9NQmtGMFNHOXRaVEVnTUI0RwpDU3FHU0liM0RRRUpBUllSWVdSdGFXNUFiV2xyYTJGeWFTNXVaWFF3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBCkE0SUNEd0F3Z2dJS0FvSUNBUUM0WHRyaGF2ajUwZS95UFV4ZG9wMGhnbFZqZ3NaSnJRTlpTTWdXeEIxcGRSTUYKVUwvaENrcDQ2bVltanhaV0FCa1BSODBHZndLYXI4SW5YczZFNllRUUl6L05GVjdFc0NNcGloVEQ0dkRZcEVGZgptNEc4UHlFTUhtaWdlRWpsZjdnK2VzeENlRWhvNE14Ti95RGhlUTI2TGRSSmZ4VThCQXllVGRzYUlwNkZjS2ZjCnhvaHpvNk1MdXo3ZmVHL05CckZzdzdhSkZtbVZmYlhJL2drVk13UFh6bmM4MTFhc2xBLzN0OTI4M3k3a0E5WUYKYjFVS3FFczM5dTRicDlCQkF1S3lCR3UrMnJ5L0YwTDZ6VlRTYWZpOUZrQk5KUUhQK1VlN2NXVExHcVpEZlcrVwp2WVJ4QmdrNUFIQVFyTjd6OWROSzcxdGFray85UjJ6ZTZ5Tll2RHphejdBdVpYaVkxdkZCVUlsK3ZRNjFONmRjCjVDdVdxeFRlZWNBV29aalZoTXVMbmJpcnFVeWFaQkJWZGg2ODdwU3hXdTE0VGpPUXBPMXFpTjRFTUpHVTVBRDcKS0gydDZ0WTlpcVVrU2JYOXZ5ZUtIOEJlNEEvY291bWo5bE9uR3dkWFNEUkV6aFh5b2RBWFV4SGt2YnhXMEJaYQp6b3lnV3Bad0JPSTh0R3ZHV2ROdU9GWWthaTJiaFhjaUtIcnloRDNnWkgzQml4Zlk0bXEwWmFNUENlSnZOQ2VhCmIyWnNNMm9DOHlLVlFEMHNZUlNwb0J3QjczTktNQUlQdlBkanlIRmFxdVlhOG1laFNDZnhRclI0ei9zWkNBLzEKQUtFbkZTMTh0N1g4R3lKci9YRjNCYTdoQ05OQisrKzFINnhYd3JCN0RJY0Z1M2gwckhPRmFiSGFkUnI0dndJRApBUUFCbzRIVE1JSFFNQjBHQTFVZERnUVdCQlFzRXc2QnBXMlE2TFJvNjRMZWNRUy9vdkhFZERDQmt3WURWUjBqCkJJR0xNSUdJZ0JRc0V3NkJwVzJRNkxSbzY0TGVjUVMvb3ZIRWRLRmxwR013WVRFTE1Ba0dBMVVFQmhNQ1NWTXgKQ3pBSkJnTlZCQWdNQWs1Qk1SSXdFQVlEVlFRSERBbFNaWGxyYW1GMmFXc3hEekFOQmdOVkJBb01Ca0YwU0c5dApaVEVnTUI0R0NTcUdTSWIzRFFFSkFSWVJZV1J0YVc1QWJXbHJhMkZ5YVM1dVpYU0NDUURtMWhCaXZMdWVSekFNCkJnTlZIUk1FQlRBREFRSC9NQXNHQTFVZER3UUVBd0lCQmpBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQWdFQW44aEgKZVIyZ1lYcS9IUjZOUG1yS0l4SWp2cmNLU05KOXpBdERlL25sWW9qaXdhcEViZG1reExiWjYwSEFvVm5aaWxtSQpWYmtVdy8rVU5uQUZ5SzFVREVxQXVUa1EwNkdjb2R5RE9aMkF6dWZ5a3NGcFhmdE05Q3RhZzlTNlBTY3lyUFI2CkRmQU9WT1k4cDRpWWp4aVU5U044UWZodUt3Q3piOU42T0lDQlN6Ykc5VlJVVEVhYVRiQVFGS2tDb3JCS0pBcFIKVjk1Wk5aK1JTbTlPUnZ2Z2pSbFpaRkxvd0ErS2JyTmJaVXBxRXF2REVpUjYrS2c2WDlQYnBoa2JPaUhPRG9UcwpDTXJFVDJZUXlmN09VMHpKYWxUNzFIeXZ6bW1QVUp2Y3pLWFk1UlRJZU5oSy9jeGF3NUFUaGxtRlI1K2p0SXk3Cm8wRWkwRlBoNG5nalpobGdhY2MyVXliNHR0SWQwTTArdVZ2TUJUOUJyeTROWFFjMUdpVUdxeFFmZlluV3RYTXIKcFlZMnNFWFBBc0ZWc041SlBlTGdaRzJnbVZtekpaRU5BZVA3SFZIRU0zUFRZUkRhMTBoTVZia1IrVVg2dEllTApRanBtZkdjMzlBaVpNNmpuZzFrcG1UUkpML2ZkS1JtbGRiRzFvWU15eXhKcDVhcHYyT2hRSktrcmVBSGp6am9MClhBajdGRjVka2xjMVE1WVBhVWQyOFVJbDU5SEtKWllhN0dnOWEwYTd5Ly9HazJJT0F1akYxcVFkWDVUSE9SeUEKZUxHSERhazhOcFp0UjEreURSRUM5QmpJenUvSEYydUdmZDdtMDdSSHpVc3FFbkg5RUw1L3Q0NzBrTmIveFFidgppVHp3QnRlL3N3cTM5Unc3UUo3cUZhaGVIREVPc2hiL1F2bG93WU09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
ENV OVPN_SERVER Q2VydGlmaWNhdGU6CiAgICBEYXRhOgogICAgICAgIFZlcnNpb246IDMgKDB4MikKICAgICAgICBTZXJpYWwgTnVtYmVyOiAxICgweDEpCiAgICAgICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICBJc3N1ZXI6IEM9SVMsIFNUPU5BLCBMPVJleWtqYXZpaywgTz1BdEhvbWUvZW1haWxBZGRyZXNzPWFkbWluQG1pa2thcmkubmV0CiAgICAgICAgVmFsaWRpdHkKICAgICAgICAgICAgTm90IEJlZm9yZTogQXByIDEzIDIzOjMwOjAzIDIwMTcgR01UCiAgICAgICAgICAgIE5vdCBBZnRlciA6IEFwciAxMSAyMzozMDowMyAyMDI3IEdNVAogICAgICAgIFN1YmplY3Q6IEM9SVMsIFNUPU5BLCBPPUF0SG9tZSwgQ049dnBuLXNlcnZlci5taWtrYXJpLm5ldC9lbWFpbEFkZHJlc3M9YWRtaW5AbWlra2FyaS5uZXQKICAgICAgICBTdWJqZWN0IFB1YmxpYyBLZXkgSW5mbzoKICAgICAgICAgICAgUHVibGljIEtleSBBbGdvcml0aG06IHJzYUVuY3J5cHRpb24KICAgICAgICAgICAgUlNBIFB1YmxpYyBLZXk6ICgyMDQ4IGJpdCkKICAgICAgICAgICAgICAgIE1vZHVsdXMgKDIwNDggYml0KToKICAgICAgICAgICAgICAgICAgICAwMDpkZjoxMzphYzo5MDphMzpiNzpiZTpkYzo2YzoyNjozYjpkMDpiMzo5YzoKICAgICAgICAgICAgICAgICAgICA1ZDo5NzpjYTo2YTowNDo5Yjo0ZjoxYjo1YjpkYjo4NTpjMzpiMTpjNTplNDoKICAgICAgICAgICAgICAgICAgICA5YTo0YTo2YzozNDo5MDozZDpkYjphNjo2ZjozYjpmZTozMDphYTowMDpkODoKICAgICAgICAgICAgICAgICAgICBmODozZDpmNDo1NjphNjoyNToxZjplYjoyMDo3YTowOTo3NDowODo3YTphYToKICAgICAgICAgICAgICAgICAgICAxMDozOTo4NDpiMDo0ZDpiYjo2YzoxZjoyNToyMTpjMDpmZDowOTphZDpkMjoKICAgICAgICAgICAgICAgICAgICBkZTo5ODowODpjMTo3Yjo3OTplNTo4ZTo4MDpjMTpjZDo2NDoxNDo0ZDpkODoKICAgICAgICAgICAgICAgICAgICBlYTo5ZDo1Mzo4YzoxMDo4NTpiOTo1NDozZjpjZTphYzowMDpjYToyMjplMToKICAgICAgICAgICAgICAgICAgICBlYzoxYTo1MTpjZjo0MjozODo3Yjo3Njo2NTo4ZDpiODphMzo4MTpiYjphODoKICAgICAgICAgICAgICAgICAgICBmYTo3Mjo2Zjo1OTo2NDo0MDplMjo3NToyODo2OTo3NjozMjoyMTo1YjpkZToKICAgICAgICAgICAgICAgICAgICA1YzoxMDpmNjplMDpjZTo2Mzo0Mjo0Yzo2MTo1YjoxYToyYzoyMjo3NTo1YzoKICAgICAgICAgICAgICAgICAgICAzODpiMDoyNTo0NzpkNjo5ZDplNjo0MDpjNjoxYTpiNjo0YjpmMDplZDo1ZDoKICAgICAgICAgICAgICAgICAgICBhMDo1Yzo3MDowMzpmZDo1MDpmOTo3Mzo1MDo4Mzo4MjpkMjowNToxMTphNDoKICAgICAgICAgICAgICAgICAgICBlMDpkMDo0OTo3Yjo2YTo2MDo0OTplODo3NjozYjo0ODozMjoyYzpkNzo2NzoKICAgICAgICAgICAgICAgICAgICA4MDpjNTo3YzoyYjpmMTphYjo3NTo4MjphMDoxMDoxNzoyNjpmYzpkOToxMDoKICAgICAgICAgICAgICAgICAgICA2OToxNzpkMTo5NjpmYzozMjoyMzpjZDpjMDo3MzoxZDo5ZjpkNzpjNTpkYjoKICAgICAgICAgICAgICAgICAgICAyMTowYTowZjoxMjo0MjpkYTpmYjphYjowZjo2NDoyODpiYjpjODo2MToyYjoKICAgICAgICAgICAgICAgICAgICBjNTpkODo4NDo2MTpjYzoxODpmYzo3NTpiZDo2ZDozMjoxMjo0ZTowZjozYjoKICAgICAgICAgICAgICAgICAgICBjZTo1YgogICAgICAgICAgICAgICAgRXhwb25lbnQ6IDY1NTM3ICgweDEwMDAxKQogICAgICAgIFg1MDl2MyBleHRlbnNpb25zOgogICAgICAgICAgICBYNTA5djMgQmFzaWMgQ29uc3RyYWludHM6IAogICAgICAgICAgICAgICAgQ0E6RkFMU0UKICAgICAgICAgICAgTmV0c2NhcGUgQ2VydCBUeXBlOiAKICAgICAgICAgICAgICAgIFNTTCBTZXJ2ZXIKICAgICAgICAgICAgTmV0c2NhcGUgQ29tbWVudDogCiAgICAgICAgICAgICAgICBPcGVuU1NMIEdlbmVyYXRlZCBTZXJ2ZXIgQ2VydGlmaWNhdGUKICAgICAgICAgICAgWDUwOXYzIFN1YmplY3QgS2V5IElkZW50aWZpZXI6IAogICAgICAgICAgICAgICAgRkY6RDQ6MjY6RUM6MEM6NDY6QkY6RTM6MDk6N0E6ODE6OEY6M0Y6RDA6Nzc6QkY6NjY6MjM6QTk6RDUKICAgICAgICAgICAgWDUwOXYzIEF1dGhvcml0eSBLZXkgSWRlbnRpZmllcjogCiAgICAgICAgICAgICAgICBrZXlpZDoyQzoxMzowRTo4MTpBNTo2RDo5MDpFODpCNDo2ODpFQjo4MjpERTo3MTowNDpCRjpBMjpGMTpDNDo3NAogICAgICAgICAgICAgICAgRGlyTmFtZTovQz1JUy9TVD1OQS9MPVJleWtqYXZpay9PPUF0SG9tZS9lbWFpbEFkZHJlc3M9YWRtaW5AbWlra2FyaS5uZXQKICAgICAgICAgICAgICAgIHNlcmlhbDpFNjpENjoxMDo2MjpCQzpCQjo5RTo0NwoKICAgICAgICAgICAgWDUwOXYzIEV4dGVuZGVkIEtleSBVc2FnZTogCiAgICAgICAgICAgICAgICBUTFMgV2ViIFNlcnZlciBBdXRoZW50aWNhdGlvbgogICAgICAgICAgICBYNTA5djMgS2V5IFVzYWdlOiAKICAgICAgICAgICAgICAgIERpZ2l0YWwgU2lnbmF0dXJlLCBLZXkgRW5jaXBoZXJtZW50CiAgICBTaWduYXR1cmUgQWxnb3JpdGhtOiBzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbgogICAgICAgIDI1OjdlOmU4OmU0OmMwOmMzOjQzOmUxOmVlOmEzOjg0OjU1OjIyOjhjOmEwOjI5OjI4OmI4OgogICAgICAgIDZjOmE5OmIxOjA0OjM0OmJmOjFkOjY1OmI5OjdlOjVmOjcxOjFjOmU0OjkyOjFkOjliOjA1OgogICAgICAgIDcwOjZkOmI4OmIwOjkxOmY4OjljOmVhOjViOjQ0OmJlOjRiOjg1Ojk1OjYxOjZmOmE2OjFlOgogICAgICAgIDNkOmRjOjFmOjY0OjQ3OjRkOmI1OjZkOjIzOmE0OjVjOmM1OjVmOjJkOjdlOjhiOjNmOjFlOgogICAgICAgIDVjOmFjOjNiOmFkOjEwOjIxOjgyOjAxOjRkOmYyOjE4OmZkOmE5OmFiOjU4OmY1OjAzOmNlOgogICAgICAgIDE3OmU4OjI3OjMyOjkyOjZjOmViOjc3OmU3OmVkOmZhOmRlOjRlOjA3OjBmOjI0OjNiOjdkOgogICAgICAgIGM0OjI4OmJhOjQ1OmNmOmYxOmNjOjdlOmRmOmQ3OjJiOjUzOmNjOjQwOjUxOmU2OjA3OjkyOgogICAgICAgIGJiOmRiOjUzOjcwOmMzOmM1OjJiOjM1OjkyOjgyOjkyOjcwOmRiOjZjOmFhOjQ4OmJjOmYyOgogICAgICAgIGIwOmVlOmQ0OjdhOjk2OjVhOmEwOjA4OmI0OjQxOjFiOmExOmFkOjQwOjE0OjdkOmRlOmYxOgogICAgICAgIDI0OmM0Ojc3OjM3OjlhOmM5Ojg2OmE2OjBlOmNjOmUxOjNiOjc2OjllOjY1OjMyOmFhOjA5OgogICAgICAgIDU3OjgyOjRkOmIxOjNkOjVjOjI4OmI4OjlhOjJhOmNhOjlmOjY4OmM5OjcxOmMzOmUzOjg3OgogICAgICAgIDI3OjRlOjkzOjE2OjliOmE4OmE1OjY5OmU4OmZjOjI2OmIwOmIxOmI5OjhmOmI0OmQwOmY4OgogICAgICAgIGI4Ojk3OmU1OjQ4OmYzOjdkOjg3OjRiOjkzOjQ1OmExOjE3OjQyOjk1OjMxOjNkOjU5OjUyOgogICAgICAgIDRjOjExOmExOmNkOmRmOjkyOmVlOmE4OjM0OmU4OjdlOmQ0OjI0Ojc5OjM1OjA1Ojc3OmM3OgogICAgICAgIDgxOmQzOmUxOmE1OmZkOjliOmI4OjgyOmI4OjllOmYwOjdjOjhiOjg1Ojk3Ojk5OjM3OjNmOgogICAgICAgIGM4OjY1OjAwOjM5OjAyOjZiOjc3OmY2OmJkOmM0OmI5OmZiOmQ4OjEwOmE0OmU1OjcxOmIxOgogICAgICAgIDczOjA5OjY1OmJhOjA2OjlmOjdlOjhlOjNjOmYxOjI4OjM4OjEzOjc3OmRlOmExOmVjOjJhOgogICAgICAgIDMwOjllOjQ5OjdjOjIzOjAxOjFjOjAyOmEzOmQyOmMyOjIxOjMzOjAyOjcwOjgwOjQ2OjRhOgogICAgICAgIDdmOmQwOjEzOjVmOjhiOmVlOjhjOmE3OmQxOjM5OjNmOjRkOmY4OjIzOjQxOjJiOjA5OmY5OgogICAgICAgIGQxOmYxOjkzOjU4Ojc2OmUyOjVmOjlhOjhkOmViOjQ1Ojg1OjU2OjczOjg1OjdhOjJkOjExOgogICAgICAgIDNhOmE3OmE0OjczOjVlOjhkOjdiOjdmOjgwOjFjOmI4OjExOjc4OmIxOjU5OjA4OmE3OjIxOgogICAgICAgIDg1OjA4OmQyOjMzOjQ2OjZhOjBjOjllOmE0OjgzOjYwOjQ1OmRiOmVjOjE5OmQ3OmY1OjM0OgogICAgICAgIDk2OmIyOjRkOmY4OjlmOjE5OmVhOjFjOjJkOjRjOjM0OmRkOjJiOjljOjMyOmFkOjAyOjZiOgogICAgICAgIDBmOjUyOmQ0OjA4OmU2Ojc0OjIwOmE1OmQ0OjhmOjcxOjFkOmU3OjFlOmU0OjYzOjY4OjYyOgogICAgICAgIGY4OjAzOmI2OjM4OjVjOjY4OmFiOjAyOmZiOjMyOjM5OjM2OjM1OjJkOmIxOjFkOjEwOjUxOgogICAgICAgIGZmOjY5OjI3OjEyOjYyOjQwOjlhOjFjOjBiOmVhOjg2Ojg3OmYxOjhmOmVhOjczOmY1OjU5OgogICAgICAgIDZkOmY3OmQxOjI4OjMwOmJiOjI2OmNiOmJiOjk4OjlmOmEyOmQ4OjY5OmM1Ojg2OjQxOjFmOgogICAgICAgIDVkOjJmOjA1OjQxOjg5OjA5OjQ1OjhkOjEyOjhlOmUxOmYxOmJiOmIzOjVjOjJhOmM5OmJmOgogICAgICAgIDIyOmRhOmRiOjcxOjQ4OmE5Ojk2OjIyCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGZWpDQ0EyS2dBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURCaE1Rc3dDUVlEVlFRR0V3SkpVekVMCk1Ba0dBMVVFQ0F3Q1RrRXhFakFRQmdOVkJBY01DVkpsZVd0cVlYWnBhekVQTUEwR0ExVUVDZ3dHUVhSSWIyMWwKTVNBd0hnWUpLb1pJaHZjTkFRa0JGaEZoWkcxcGJrQnRhV3RyWVhKcExtNWxkREFlRncweE56QTBNVE15TXpNdwpNRE5hRncweU56QTBNVEV5TXpNd01ETmFNRzR4Q3pBSkJnTlZCQVlUQWtsVE1Rc3dDUVlEVlFRSURBSk9RVEVQCk1BMEdBMVVFQ2d3R1FYUkliMjFsTVI4d0hRWURWUVFEREJaMmNHNHRjMlZ5ZG1WeUxtMXBhMnRoY21rdWJtVjAKTVNBd0hnWUpLb1pJaHZjTkFRa0JGaEZoWkcxcGJrQnRhV3RyWVhKcExtNWxkRENDQVNJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTjhUckpDanQ3N2NiQ1k3MExPY1haZkthZ1NiVHh0YjI0WERzY1hrCm1rcHNOSkE5MjZadk8vNHdxZ0RZK0QzMFZxWWxIK3NnZWdsMENIcXFFRG1Fc0UyN2JCOGxJY0Q5Q2EzUzNwZ0kKd1h0NTVZNkF3YzFrRkUzWTZwMVRqQkNGdVZRL3pxd0F5aUxoN0JwUnowSTRlM1psamJpamdidW8rbkp2V1dSQQo0blVvYVhZeUlWdmVYQkQyNE01alFreGhXeG9zSW5WY09MQWxSOWFkNWtER0dyWkw4TzFkb0Z4d0EvMVErWE5RCmc0TFNCUkdrNE5CSmUycGdTZWgyTzBneUxOZG5nTVY4Sy9HcmRZS2dFQmNtL05rUWFSZlJsdnd5STgzQWN4MmYKMThYYklRb1BFa0xhKzZzUFpDaTd5R0VyeGRpRVljd1kvSFc5YlRJU1RnODd6bHNDQXdFQUFhT0NBUzR3Z2dFcQpNQWtHQTFVZEV3UUNNQUF3RVFZSllJWklBWWI0UWdFQkJBUURBZ1pBTURNR0NXQ0dTQUdHK0VJQkRRUW1GaVJQCmNHVnVVMU5NSUVkbGJtVnlZWFJsWkNCVFpYSjJaWElnUTJWeWRHbG1hV05oZEdVd0hRWURWUjBPQkJZRUZQL1UKSnV3TVJyL2pDWHFCanovUWQ3OW1JNm5WTUlHVEJnTlZIU01FZ1lzd2dZaUFGQ3dURG9HbGJaRG90R2pyZ3Q1eApCTCtpOGNSMG9XV2tZekJoTVFzd0NRWURWUVFHRXdKSlV6RUxNQWtHQTFVRUNBd0NUa0V4RWpBUUJnTlZCQWNNCkNWSmxlV3RxWVhacGF6RVBNQTBHQTFVRUNnd0dRWFJJYjIxbE1TQXdIZ1lKS29aSWh2Y05BUWtCRmhGaFpHMXAKYmtCdGFXdHJZWEpwTG01bGRJSUpBT2JXRUdLOHU1NUhNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01CTUFzRwpBMVVkRHdRRUF3SUZvREFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBSlg3bzVNRERRK0h1bzRSVklveWdLU2k0CmJLbXhCRFMvSFdXNWZsOXhIT1NTSFpzRmNHMjRzSkg0bk9wYlJMNUxoWlZoYjZZZVBkd2ZaRWROdFcwanBGekYKWHkxK2l6OGVYS3c3clJBaGdnRk44aGo5cWF0WTlRUE9GK2duTXBKczYzZm43ZnJlVGdjUEpEdDl4Q2k2UmMveAp6SDdmMXl0VHpFQlI1Z2VTdTl0VGNNUEZLeldTZ3BKdzIyeXFTTHp5c083VWVwWmFvQWkwUVJ1aHJVQVVmZDd4CkpNUjNONXJKaHFZT3pPRTdkcDVsTXFvSlY0Sk5zVDFjS0xpYUtzcWZhTWx4dytPSEowNlRGcHVvcFduby9DYXcKc2JtUHRORDR1SmZsU1BOOWgwdVRSYUVYUXBVeFBWbFNUQkdoemQrUzdxZzA2SDdVSkhrMUJYZkhnZFBocGYyYgp1SUs0bnZCOGk0V1htVGMveUdVQU9RSnJkL2E5eExuNzJCQ2s1WEd4Y3dsbHVnYWZmbzQ4OFNnNEUzZmVvZXdxCk1KNUpmQ01CSEFLajBzSWhNd0p3Z0VaS2Y5QVRYNHZ1aktmUk9UOU4rQ05CS3duNTBmR1RXSGJpWDVxTjYwV0YKVm5PRmVpMFJPcWVrYzE2TmUzK0FITGdSZUxGWkNLY2hoUWpTTTBacURKNmtnMkJGMit3WjEvVTBsckpOK0o4Wgo2aHd0VERUZEs1d3lyUUpyRDFMVUNPWjBJS1hVajNFZDV4N2tZMmhpK0FPMk9GeG9xd0w3TWprMk5TMnhIUkJSCi8ya25FbUpBbWh3TDZvYUg4WS9xYy9WWmJmZlJLREM3SnN1N21KK2kyR25GaGtFZlhTOEZRWWtKUlkwU2p1SHgKdTdOY0tzbS9JdHJiY1VpcGxpST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
ENV OVPN_KEY LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBM3hPc2tLTzN2dHhzSmp2UXM1eGRsOHBxQkp0UEcxdmJoY094eGVTYVNtdzBrRDNiCnBtODcvakNxQU5qNFBmUldwaVVmNnlCNkNYUUllcW9RT1lTd1RidHNIeVVod1AwSnJkTGVtQWpCZTNubGpvREIKeldRVVRkanFuVk9NRUlXNVZEL09yQURLSXVIc0dsSFBRamg3ZG1XTnVLT0J1Nmo2Y205WlpFRGlkU2hwZGpJaApXOTVjRVBiZ3ptTkNUR0ZiR2l3aWRWdzRzQ1ZIMXAzbVFNWWF0a3Z3N1YyZ1hIQUQvVkQ1YzFDRGd0SUZFYVRnCjBFbDdhbUJKNkhZN1NESXMxMmVBeFh3cjhhdDFncUFRRnliODJSQnBGOUdXL0RJanpjQnpIWi9YeGRzaENnOFMKUXRyN3F3OWtLTHZJWVN2RjJJUmh6Qmo4ZGIxdE1oSk9EenZPV3dJREFRQUJBb0lCQUVzV3FFT1htRVlhbEJ6YQpqWW1uM0trM2JUQlh4dTBDb29ZSU5WTFRmRXdJMkRpbFdjWlFNdldCRS9odEVFSnFlTEE4VnQ0aWRIR3lLUmlCCkhpeitTUW9oU0dmRGEvVTJONGZYTHk0bDVGclgwVG1DaGJuSk1qeHlBNmNwZEVBcmd4S2sxOEIyRTVSaVQ4TWMKUHBPZng0ODI1OWw2MERTRzBLYXNiSDZlaUp1K2VXMmErTlNjMHNYbnFHcERqMDNnU1Y0UFJmcFR3dno2bkNuMgpNZEVPYzNVUmdrQnd1Z0NEMzhJMEdwZlJFRU5xWjd1V1RFTVlsR0ZoK0VOaFNrbGwvUmpkMWtGRThQQ3BZQWU4CmQzWkRMRUkxbXd5b0o1RGlMSXovaFNKKzgrUTRIL1JXUndneXZnNXNkeFJxeDlJUXpCNElEZDd6dzcwTkk0cnMKTWh0eHlzRUNnWUVBL3BNVzEvNkwvMWsxK3Y3cW9CaHoxK3FQSkgyRTVuMVAveUUzTE9BaXM2Nys5Q05jS3hWbwpLNDIrRnZIQzBCODl6MzN6RE5WUU5xN0xPUVM4UW9QbWVrbEkwOFo2M3hmRGRGYytSQkFiTHQyTzdpQVJQMDFaCjF0eENlY2xEWGQrSHFZVHc4UlFXQko2QjhDY0RleGlCb0ZsR2pkMWNZdk8rcjN5amc3b3VYZ2tDZ1lFQTRGTnYKZ2krZ1dsMThyblQwYWh5NUhVVDFYNFdoYWQwVU52aFBWT09zOVhKNGZXU2poa0NhWXZqVi8wbGtCQU5TV2M2VApuSEorRkRQSHBMZkwwdHVZUW5lR3Rlczlidk5SSXAvak9Oa2Jkd1lkTTNUY0FXeTVhbFlJMVp3cmtjVEQyRXhHCmJiTGJXL001bW01cFMxTU9KMTRNejRqSUxGSTRTeVZ4eTY2OElrTUNnWUVBakIrWVBsR002NE5HTkI2bU5ITGgKS0tLaUlacTVVVWoraEZiYkVPZGFFbjhyTkdSV01oeTVWdWZSRHI0SjFoYXNKZzZVZnFiWFhSSC9LQ1pVSFdTTwpzeGF0Y0d2YWEvdWZpT1VRajlReHNpMGZwRENnYmJCODE4Z3JDdS9lRmNpWTJwVWpMZjg1VTFlUC9BanRZSThQCm9wd2hPcXJ5VkVFSDMzNENYdHBXOVVrQ2dZRUF4bmtMcjZOenZILzZVR0FwMzdpS0Q5dHpQWkI5djZ4YXRrZjcKNkorSDU2SGYrUkdSbkxhTDRnVkhVUmNkNW04SjdXdFlMcE1kK2NIV1lXWThiOUxhWS9SY3U1Zm1Rc1FFaFIzeAphOXFxOGlQMnNoQXlseEFhL0hvaVZ0eFZzQ0xuSS9oWVY3Wm5Ybk5VQTg2c1duaWhqVE1wSW5WaXBkUVkrbU9tCnl3OU9aUUVDZ1lFQXNCQWRaUEJTNjNBeFR5OUMvb1J2SmE5NTZSSXdOa2hzR1VkQk9haE8vOUkrNnBOL0hwS0UKbEZnbDhuZGluS2x1TVNSUXR1MGRkbkhtK1ppdmtsK21zSDN5WXdhNGcxZGd1bnFQcXdoYlFUdmRDcElhR0FIbwozMFgyOEVsSzhaOFhROERqeE4yZ3dYaGdoNFg5YkhGTjMvUnJJRGd3Y25mWjdNUXhhSy9IZm5NPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
ENV OVPN_DH LS0tLS1CRUdJTiBESCBQQVJBTUVURVJTLS0tLS0KTUlJQkNBS0NBUUVBZ2JCSXR6ZFJzN255ZUR4MTNKbHhwRnVoQXd0a003Zzl3bHIyczFKdjFtZUh5NXIyZmNYSgozLzRWeWV3NDhWZGVLcThuVkVLLzh6YzM1SDBnV2JnQmwyVmo0WXRHN3lnaVFUSGUwelcrbnF6NkNkVVpxTVdCCnJaeloreFNYRk9WMzcvWGhMc1luQVBzbDhqRCtOeGV6eDlWSVlaSTdaKzF3R2s5NGpEOHdDOW5OZS9WaXBJd2sKNEpJekN4N0tIbmt3T3JQbXZTZUVnY3ZyS2FuWDBQdHpjbmd3TE5tdkticUtpMGQ2eHp6Yi9MZk5nOVRiWHRQKwprdmxLOTlzVis5c1ltbGN3TDVma2I4eGFLR2gvU2U1cDZWRSs2cDZEY2NjcXJsdHcyMytyalpxTTlsb0hjZVFxCkFxM052MHlFc05qV3NBNUVqT2FhRVdjakZPbFgwTStuUXdJQkFnPT0KLS0tLS1FTkQgREggUEFSQU1FVEVSUy0tLS0tCg==
ENV OVPN_CRL LS0tLS1CRUdJTiBYNTA5IENSTC0tLS0tCk1JSURYVENDQVVVQ0FRRXdEUVlKS29aSWh2Y05BUUVMQlFBd1lURUxNQWtHQTFVRUJoTUNTVk14Q3pBSkJnTlYKQkFnTUFrNUJNUkl3RUFZRFZRUUhEQWxTWlhscmFtRjJhV3N4RHpBTkJnTlZCQW9NQmtGMFNHOXRaVEVnTUI0RwpDU3FHU0liM0RRRUpBUllSWVdSdGFXNUFiV2xyYTJGeWFTNXVaWFFYRFRFM01EUXhNekl6TXpBd05Gb1hEVEUzCk1EVXhNekl6TXpBd05Gb3dGREFTQWdFQ0Z3MHhOekEwTVRNeU16TXdNRFJhb0lHWk1JR1dNSUdUQmdOVkhTTUUKZ1lzd2dZaUFGQ3dURG9HbGJaRG90R2pyZ3Q1eEJMK2k4Y1Iwb1dXa1l6QmhNUXN3Q1FZRFZRUUdFd0pKVXpFTApNQWtHQTFVRUNBd0NUa0V4RWpBUUJnTlZCQWNNQ1ZKbGVXdHFZWFpwYXpFUE1BMEdBMVVFQ2d3R1FYUkliMjFsCk1TQXdIZ1lKS29aSWh2Y05BUWtCRmhGaFpHMXBia0J0YVd0cllYSnBMbTVsZElJSkFPYldFR0s4dTU1SE1BMEcKQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUJUUjVDWDZCM2xzcGlrd3pXRWQvYnZsdXlVOXV5UXVnM0pFTHdBTHI0NApHakl2R3Zlb3lUMkIraWhmTUpIclFkcXN1UCtZTlNiVXMwc1IvcDlVb2ZYb3U4RzN2V1NMaFNITEZsT0w4K3ptCjBOck14aGlHdjU3ZXZWRzJYQmZXckV5Y2dNV01iM0ZGTTZQY0UxcFhxTTFqN2F6SzlzaGJaazFmZ1ppbjRIYjQKMHhEVm9kbVd5RUpFZUlhdEN0OFFQcm4raUJZZmdzQ3duQmQ0Z1o1cUowUGdBZW8rUWwwYVNiUjl4RStRZTVNYwpVWWpOaFZYcUxFQzVWVTB0VTJ4YXJIVHVRWHo5MHNXYTRWd2FDeTNiRlNpV3lqYWJDYi9Tc215eHBQVGR6Y3lQCkI4M2E1UURiemc2NmlmRFZ4WmI1K3hmRUJPeE02TGJnSWZaQjJaS0NhT3psZENKQ2ZrS1JBbUJpZk1heDZXRWUKUFNER2hCTWl3NmFnalhyYVd3ZHR4QnpudVBBZmZJRWl1bVFKZEZ5aUM2Z2R2cUhsTkFHNnJPN0t2K0V0WGdLdAp5WTZHODEwN3kvZW1hUG12VldFbTNRaXUyMGN6Z3BRYkhNK1VoNGhVcVFsYkNFZUVxTHNhWW9jd1BWSVppN1U0CjdJM25qSUNJOTlTdXVINndaL0V6WVEwWUI2UkVUNEs4bit1ZkdaY3BVQ1llUzhKTmtOcGJXR29reG5RVUN4WlUKOU9hYjRQWVRjRXRQOVdUTCttbXBzby9QY0JEVmpuVzlyNW5kRkZhOStNbVg0anFWdXZXRHhrUnNqK3VNWm5qUApVVUl0OUZKQTdKU2dNVkJpd3N4WGVqNVNzS1IvNmN2ZGU0ZmVadUErSk9WZ1Y4K3p3d1QzUFU3K00rV3Zqb25XCnV3PT0KLS0tLS1FTkQgWDUwOSBDUkwtLS0tLQo=
ENV OVPN_TA IwojIDIwNDggYml0IE9wZW5WUE4gc3RhdGljIGtleQojCi0tLS0tQkVHSU4gT3BlblZQTiBTdGF0aWMga2V5IFYxLS0tLS0KNTZlMmY4MTIwZmM3ZDZiNDI2MGNkMTk0YzRjYWJkYjYKMzg4ZTcxMTU1OWQwZjBlNzAwYzJhODhhYzc5OTRkMjcKYTYwZWZmM2I5MzQ2MjBhYWY3ZmY5ZmM3MDc1ZmNlYjQKMzJiNTNjNDAxZmZlYmYxMGY3Zjg0NjVkYTY5NmE2YTYKNWM4OWIzMzdmY2U3ZWYxMDIxYzYzMDYyNTU0NzA4MzAKODMyMjM1MWZlYTk2M2FlYTkwODRlYjNlY2ExMmZiY2UKZGIxNTA0MzQ0MDc5YzZhMTQ5YzllM2Q0ODExODI3ZGUKMjRjNGVlMmU0N2FhYjcyYjM0NTkxZDBhNjhhOWU0ZTcKNTU2YzBhNDkyNDc0MzMyM2RhZjlmMDkzOGRjMmNhZDEKMDdmZjY1ZDEwOGZlNDEwMDM5NDQyOTI4OTQzMDhlNzUKYmRjZGJkZmNmNDYzNjNkNmFjNDc1OTgyY2JjN2ZlNDYKZjY5OWVhYjk5YzA0MjRkNTVhOGQwZjg0ODg3ZTE3ZGUKNzJjZmU5MmIyZjlhYTI5ZGMwOWNhMWZmZDEzM2U4MmYKNjdkY2RkZGIxZmM1YWRlODgyYjBhOWY1N2YxNzJkZGIKYmYyNjg2NmRhMDVhYzAzYjM0OWE2Yjg5ODFjNjU1NjgKMDJiOWI3NTc1ZDUyZjhiY2Q0ZTQ3ZWQ0YzQ5ZDkzNTQKLS0tLS1FTkQgT3BlblZQTiBTdGF0aWMga2V5IFYxLS0tLS0K

EXPOSE 1194/udp
EXPOSE 1194/tcp

CMD ["gen_server.sh"]

ADD ./vpn /usr/local/bin
RUN chmod a+x /usr/local/bin/*

